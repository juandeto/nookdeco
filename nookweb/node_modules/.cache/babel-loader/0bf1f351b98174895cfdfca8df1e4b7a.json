{"ast":null,"code":"import _toConsumableArray from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import withErrorHandler from'./../../hoc/withErrorHandler/withErrorHandler';import classes from\"./AdminLayout.module.css\";import{connect}from\"react-redux\";import axios from\"axios\";import Spinner from\"./../../components/Ul/Spinner/Spinner\";import ItemOrder from'./../../components/Admin/ItemOrder/ItemOrder';var AdminLayout=/*#__PURE__*/function(_Component){_inherits(AdminLayout,_Component);var _super=_createSuper(AdminLayout);function AdminLayout(){var _this;_classCallCheck(this,AdminLayout);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={orders:[],loading:false};_this.checkout=function(){return _this.props.history.push(\"logout\");};_this.orderPagoHandler=function(id){var arrayOrders=_toConsumableArray(_this.state.orders);var index=arrayOrders.findIndex(function(order){return order.id===id;});arrayOrders[index].pagado=!_this.state.orders[index].pagado;_this.setState({orders:arrayOrders});var url=\"https://nookweb-5fb61.firebaseio.com/orders/\".concat(arrayOrders[index].id,\".json\");axios.put(url,arrayOrders[index]).then(function(response){return'';}).catch(function(error){return error;});};_this.formaDeEnvioHandler=function(id){var arrayOrders=_toConsumableArray(_this.state.orders);var index=arrayOrders.findIndex(function(order){return order.id===id;});arrayOrders[index].entregado=!_this.state.orders[index].entregado;_this.setState({orders:arrayOrders});var url=\"https://nookweb-5fb61.firebaseio.com/orders/\".concat(arrayOrders[index].id,\".json\");axios.put(url,arrayOrders[index]).then(function(response){return'';}).catch(function(error){return error;});};_this.deleteOrderHandler=function(order){var arrayOrders=_toConsumableArray(_this.state.orders);arrayOrders=arrayOrders.filter(function(orden){return orden.id!==order.id;});_this.setState({orders:arrayOrders});var url=\"https://nookweb-5fb61.firebaseio.com/orders/\".concat(order.id,\".json\");axios.delete(url,order).then(function(response){return response;}).catch(function(error){return console.log(error);});};return _this;}_createClass(AdminLayout,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({loading:true});//obtenemos las ordenes\naxios.get(\"https://nookweb-5fb61.firebaseio.com/orders.json?auth=\"+this.props.token).then(function(response){var data;var arrayOrders=_toConsumableArray(_this2.state.orders);for(data in response.data){var obj=response.data[data];obj.id=data;arrayOrders.push(obj);}//epujamos las ordenes al estado con un id\n_this2.setState({orders:arrayOrders});_this2.setState({loading:false});}).catch(function(err){_this2.setState({loading:false});});}},{key:\"render\",value:function render(){var _this3=this;var orders=this.state.orders.map(function(order,i){var item=null;if(!order.pagado&&!order.entregado){item=/*#__PURE__*/React.createElement(ItemOrder,{key:i,order:order,orderPagoHandler:_this3.orderPagoHandler,formaDeEnvioHandler:_this3.formaDeEnvioHandler,deleteOrderHandler:_this3.deleteOrderHandler,saveChanges:_this3.saveChanges});}return item;});var payOrders=this.state.orders.map(function(order,i){var item=null;if(order.pagado&&!order.entregado){item=/*#__PURE__*/React.createElement(ItemOrder,{key:i,order:order,orderPagoHandler:_this3.orderPagoHandler,formaDeEnvioHandler:_this3.formaDeEnvioHandler,deleteOrderHandler:_this3.deleteOrderHandler});}return item;});var deliverOrders=this.state.orders.map(function(order,i){var item=null;if(!order.pagado&&order.entregado){item=/*#__PURE__*/React.createElement(ItemOrder,{key:i,order:order,orderPagoHandler:_this3.orderPagoHandler,formaDeEnvioHandler:_this3.formaDeEnvioHandler,deleteOrderHandler:_this3.deleteOrderHandler,saveChanges:_this3.saveChanges});}return item;});var completeOrders=this.state.orders.map(function(order,i){var item=null;if(order.pagado&&order.entregado){item=/*#__PURE__*/React.createElement(ItemOrder,{key:i,order:order,orderPagoHandler:_this3.orderPagoHandler,formaDeEnvioHandler:_this3.formaDeEnvioHandler,deleteOrderHandler:_this3.deleteOrderHandler,saveChanges:_this3.saveChanges});}return item;});if(this.state.loading){return/*#__PURE__*/React.createElement(Spinner,null);}return/*#__PURE__*/React.createElement(\"div\",{className:classes.AdminLayout},/*#__PURE__*/React.createElement(\"h2\",{className:classes.title},\"Admin\"),/*#__PURE__*/React.createElement(\"div\",{className:classes.btns},this.props.token?/*#__PURE__*/React.createElement(\"button\",{onClick:this.checkout,className:classes.logoutBtn},\"Logout\"):null),/*#__PURE__*/React.createElement(\"h3\",null,\"Total Ordenes: \",this.state.orders.length),/*#__PURE__*/React.createElement(\"div\",{className:classes.orderContainer},orders),/*#__PURE__*/React.createElement(\"h3\",null,\"Ordenes Pagadas (y no entregadas) \"),/*#__PURE__*/React.createElement(\"div\",{className:classes.pagadosContainer},payOrders),/*#__PURE__*/React.createElement(\"h3\",null,\"Ordenes Entregadas (y no pagadas) \"),/*#__PURE__*/React.createElement(\"div\",{className:classes.pagadosContainer},deliverOrders),/*#__PURE__*/React.createElement(\"h3\",null,\"Ordenes Pagadas y Entregadas \"),/*#__PURE__*/React.createElement(\"div\",{className:classes.completeOrdersContainer},completeOrders));}}]);return AdminLayout;}(Component);var mapStateToProps=function mapStateToProps(state){return{token:state.auth.token};};export default connect(mapStateToProps,null)(withErrorHandler(AdminLayout,axios));","map":{"version":3,"sources":["C:/Users/Juan/Desktop/paginanook/nookweb/src/containers/AdminLayout/AdminLayout.js"],"names":["React","Component","withErrorHandler","classes","connect","axios","Spinner","ItemOrder","AdminLayout","state","orders","loading","checkout","props","history","push","orderPagoHandler","id","arrayOrders","index","findIndex","order","pagado","setState","url","put","then","response","catch","error","formaDeEnvioHandler","entregado","deleteOrderHandler","filter","orden","delete","console","log","get","token","data","obj","err","map","i","item","saveChanges","payOrders","deliverOrders","completeOrders","title","btns","logoutBtn","length","orderContainer","pagadosContainer","completeOrdersContainer","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport withErrorHandler from './../../hoc/withErrorHandler/withErrorHandler';\r\nimport classes from \"./AdminLayout.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport axios from \"axios\";\r\nimport Spinner from \"./../../components/Ul/Spinner/Spinner\";\r\nimport ItemOrder from './../../components/Admin/ItemOrder/ItemOrder';\r\n\r\nclass AdminLayout extends Component {\r\n  state = {\r\n    orders: [],\r\n    loading: false,\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.setState({ loading: true });\r\n\r\n    //obtenemos las ordenes\r\n    axios\r\n      .get(\r\n        \"https://nookweb-5fb61.firebaseio.com/orders.json?auth=\" +\r\n          this.props.token\r\n      )\r\n      .then((response) => {\r\n        let data;\r\n        let arrayOrders = [...this.state.orders];\r\n        for (data in response.data) {\r\n          let obj = response.data[data];\r\n          obj.id=data\r\n          arrayOrders.push(obj);\r\n        }\r\n\r\n        //epujamos las ordenes al estado con un id\r\n        this.setState({ orders: arrayOrders });\r\n        this.setState({ loading: false });\r\n      })\r\n      .catch((err) => {\r\n        this.setState({ loading: false });\r\n      });\r\n  }\r\n\r\n  checkout=() =>{\r\n    return this.props.history.push(\"logout\")\r\n  }\r\n\r\n  orderPagoHandler = (id) => {\r\n    let arrayOrders = [...this.state.orders];\r\n    let index = arrayOrders.findIndex(order => order.id === id);\r\n    arrayOrders[index].pagado = !this.state.orders[index].pagado;\r\n\r\n    this.setState({orders: arrayOrders})\r\n    let url=`https://nookweb-5fb61.firebaseio.com/orders/${ arrayOrders[index].id}.json`;\r\n    axios.put(url, arrayOrders[index])\r\n    .then(response => '')\r\n    .catch(error => error)\r\n\r\n  }\r\n\r\n  formaDeEnvioHandler = (id) =>{\r\n    let arrayOrders = [...this.state.orders];\r\n    let index = arrayOrders.findIndex(order => order.id === id);\r\n    arrayOrders[index].entregado = !this.state.orders[index].entregado; \r\n    this.setState({orders: arrayOrders})\r\n    let url=`https://nookweb-5fb61.firebaseio.com/orders/${arrayOrders[index].id}.json`;\r\n    axios.put(url, arrayOrders[index])\r\n    .then(response => '')\r\n    .catch(error => error)\r\n  }\r\n\r\n  deleteOrderHandler = (order) =>{\r\n    let arrayOrders = [...this.state.orders];\r\n    arrayOrders=arrayOrders.filter(orden => orden.id !== order.id);\r\n\r\n    this.setState({orders: arrayOrders})\r\n\r\n    let url=`https://nookweb-5fb61.firebaseio.com/orders/${order.id}.json`;\r\n    axios.delete(url, order)\r\n    .then(response => response)\r\n    .catch(error => console.log(error))\r\n  }\r\n\r\n  \r\n\r\n  render() {\r\n    let orders = this.state.orders.map((order, i) => {\r\n      let item=null;\r\n        if(!order.pagado && !order.entregado){\r\n         item=<ItemOrder \r\n          key={i}\r\n          order={order} \r\n          orderPagoHandler={this.orderPagoHandler}\r\n          formaDeEnvioHandler={this.formaDeEnvioHandler}\r\n          deleteOrderHandler={this.deleteOrderHandler}\r\n          saveChanges={this.saveChanges} />\r\n          \r\n        }\r\n        return item;\r\n    });\r\n    let payOrders = this.state.orders.map((order, i) => {\r\n      let item=null\r\n      if(order.pagado && !order.entregado){\r\n       \r\n        item=<ItemOrder \r\n        key={i}\r\n        order={order} \r\n        orderPagoHandler={this.orderPagoHandler}\r\n        formaDeEnvioHandler={this.formaDeEnvioHandler}\r\n        deleteOrderHandler={this.deleteOrderHandler}\r\n        />\r\n        \r\n      }\r\n      return item\r\n\r\n  });\r\n\r\n  let deliverOrders = this.state.orders.map((order, i) => {\r\n    let item=null\r\n    if(!order.pagado && order.entregado){\r\n     \r\n      item=<ItemOrder \r\n      key={i}\r\n      order={order} \r\n      orderPagoHandler={this.orderPagoHandler}\r\n      formaDeEnvioHandler={this.formaDeEnvioHandler}\r\n      deleteOrderHandler={this.deleteOrderHandler}\r\n      saveChanges={this.saveChanges} />\r\n      \r\n    }\r\n    return item\r\n\r\n});\r\n\r\n  let completeOrders = this.state.orders.map((order, i) => {\r\n    let item=null\r\n    if(order.pagado && order.entregado){\r\n      item= <ItemOrder \r\n      key={i}\r\n      order={order} \r\n      orderPagoHandler={this.orderPagoHandler}\r\n      formaDeEnvioHandler={this.formaDeEnvioHandler}\r\n      deleteOrderHandler={this.deleteOrderHandler}\r\n      saveChanges={this.saveChanges} />\r\n      \r\n    }\r\n  return item\r\n});\r\n\r\n    if (this.state.loading) {\r\n      return <Spinner />;\r\n    }\r\n\r\n    return (\r\n      <div className={classes.AdminLayout}>\r\n        <h2 className={classes.title}>Admin</h2>\r\n        <div className={classes.btns}>\r\n        {this.props.token ? (\r\n            <button onClick={this.checkout} className={classes.logoutBtn}>Logout</button>\r\n        ) : null}\r\n        </div>\r\n        <h3>Total Ordenes: {this.state.orders.length}</h3>\r\n        <div className={classes.orderContainer}>{orders}</div>\r\n        <h3>Ordenes Pagadas (y no entregadas) </h3>\r\n        <div className={classes.pagadosContainer}>{payOrders}</div> \r\n        <h3>Ordenes Entregadas (y no pagadas) </h3>\r\n        <div className={classes.pagadosContainer}>{deliverOrders}</div> \r\n        <h3>Ordenes Pagadas y Entregadas </h3>\r\n         <div className={classes.completeOrdersContainer}>{completeOrders}</div> \r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    token: state.auth.token,\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, null)(withErrorHandler(AdminLayout, axios));\r\n"]},"metadata":{},"sourceType":"module"}