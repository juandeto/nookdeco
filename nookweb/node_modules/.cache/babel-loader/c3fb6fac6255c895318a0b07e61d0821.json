{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import classes from'./Auth.module.css';import{connect}from'react-redux';import*as actions from'./../../store/actions/index';import{withRouter}from'react-router-dom';import Spinner from'./../../components/Ul/Spinner/Spinner';var Auth=/*#__PURE__*/function(_Component){_inherits(Auth,_Component);var _super=_createSuper(Auth);function Auth(){var _this;_classCallCheck(this,Auth);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={user:null,pass:null,isSignup:true};return _this;}_createClass(Auth,[{key:\"submitHandler\",value:function submitHandler(event){event.preventDefault();this.props.onAuth(this.state.user,this.state.pass);this.props.history.push('/');}},{key:\"userEmail\",value:function userEmail(event){var email=event.target.value;this.setState({user:email});}},{key:\"userPass\",value:function userPass(event){var pass=event.target.value;this.setState({pass:pass});}},{key:\"render\",value:function render(){var _this2=this;var form=/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.submitHandler.bind(this)},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"p\",null,\"User email\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"email\",onChange:function onChange(event){return _this2.userEmail(event);},placeholder:\"ingresa tu email\"})),/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"p\",null,\"Password\"),/*#__PURE__*/React.createElement(\"input\",{required:true,type:\"password\",onChange:function onChange(event){return _this2.userPass(event);},placeholder:\"ingresa password\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Login\"));if(this.props.loading||this.props.token){form=/*#__PURE__*/React.createElement(Spinner,null);}var errorMessage=null;if(this.props.error){errorMessage=/*#__PURE__*/React.createElement(\"p\",null,this.props.error.message);}return/*#__PURE__*/React.createElement(\"div\",{className:classes.Auth},/*#__PURE__*/React.createElement(\"h3\",null,\"Nook Admin\"),form,errorMessage);}}]);return Auth;}(Component);var mapStateToProps=function mapStateToProps(state){return{loading:state.auth.loading,error:state.auth.error,token:state.auth.token!==null};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onAuth:function onAuth(email,password){return dispatch(actions.auth(email,password));}};};export default connect(mapStateToProps,mapDispatchToProps)(withRouter(Auth));","map":{"version":3,"sources":["C:/Users/Juan/Desktop/paginanook/nookweb/src/containers/Auth/Auth.js"],"names":["React","Component","classes","connect","actions","withRouter","Spinner","Auth","state","user","pass","isSignup","event","preventDefault","props","onAuth","history","push","email","target","value","setState","form","submitHandler","bind","userEmail","userPass","loading","token","errorMessage","error","message","mapStateToProps","auth","mapDispatchToProps","dispatch","password"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport classes from './Auth.module.css';\r\nimport { connect } from 'react-redux';\r\nimport * as actions from './../../store/actions/index';\r\nimport { withRouter } from 'react-router-dom';\r\nimport Spinner from './../../components/Ul/Spinner/Spinner';\r\n\r\nclass Auth extends Component {\r\n    state={\r\n        user: null,\r\n        pass: null,\r\n        isSignup: true\r\n    }\r\n\r\n    submitHandler(event){\r\n        event.preventDefault();\r\n        \r\n        this.props.onAuth(this.state.user, this.state.pass)\r\n        \r\n        this.props.history.push('/');\r\n            \r\n       \r\n        \r\n        \r\n\r\n    }\r\n\r\n   \r\n\r\n    userEmail(event){\r\n        let email =event.target.value;\r\n\r\n        this.setState({user: email})\r\n    }\r\n\r\n    userPass(event){\r\n        let pass=event.target.value;\r\n        this.setState({pass: pass})\r\n    }\r\n\r\n    render() { \r\n        let form=(\r\n                <form onSubmit={this.submitHandler.bind(this)}>\r\n                <label>\r\n                    <p>User email</p>\r\n                    <input required type=\"email\" onChange={(event)=>this.userEmail(event)} placeholder=\"ingresa tu email\"/>\r\n                </label>\r\n                <label>\r\n                    <p>Password</p>\r\n                    <input required type=\"password\" onChange={(event)=>this.userPass(event)} placeholder=\"ingresa password\"/>\r\n                </label>\r\n                <button type=\"submit\">Login</button>\r\n                </form>\r\n        );\r\n\r\n        if(this.props.loading || this.props.token){\r\n            form= <Spinner />\r\n        }\r\n\r\n        let errorMessage = null;\r\n\r\n        if(this.props.error){\r\n         errorMessage=<p>{this.props.error.message}</p>\r\n        }\r\n\r\n        return ( \r\n            <div className={classes.Auth}>\r\n                \r\n                <h3>Nook Admin</h3>\r\n               {form}\r\n               {errorMessage}\r\n            </div>\r\n         );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return{\r\n        loading: state.auth.loading,\r\n        error: state.auth.error,\r\n        token: state.auth.token !==null,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = dispatch =>{\r\n    return{\r\n        onAuth: (email, password)=>dispatch(actions.auth(email, password))\r\n    }\r\n}\r\n \r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Auth));"]},"metadata":{},"sourceType":"module"}