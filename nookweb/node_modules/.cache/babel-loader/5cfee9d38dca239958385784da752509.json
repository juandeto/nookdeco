{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\src\\\\containers\\\\Carrito\\\\ContactData\\\\ContactData.js\";\nimport React, { Component } from \"react\";\nimport withErrorHandler from \"./../../../hoc/withErrorHandler/withErrorHandler\";\nimport Input from \"./../../../components/Ul/input/input\";\nimport classes from \"./ContactData.module.css\";\nimport { connect } from \"react-redux\";\nimport Auxiliary from \"./../../../hoc/Auxiliary\";\nimport axios from \"./../../../axios\";\nimport { withRouter } from \"react-router-dom\";\nimport Spinner from \"./../../../components/Ul/Spinner/Spinner\";\nimport * as actions from \"./../../../store/actions/index\";\nimport moment from \"moment\";\n\nclass ContactData extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orderForm: {\n        nombre: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"text\",\n            placeholder: \"Ingresa tu nombre y apellido\"\n          },\n          value: \"\",\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false\n        },\n        provincia: {\n          elementType: \"select\",\n          elementConfig: {\n            option: [{\n              value: \"G.B.A (Gran Buenos Aires)\",\n              displayValue: \"Gran Buenos Aires (G.B.A)\"\n            }, {\n              value: \"Buenos Aires Interior\",\n              displayValue: \"Buenos Aires Interior\"\n            }, {\n              value: \"Catamarca\",\n              displayValue: \"Catamarca\"\n            }, {\n              value: \"C.A.B.A\",\n              displayValue: \"C.A.B.A\"\n            }, {\n              value: \"Chaco\",\n              displayValue: \"Chaco\"\n            }, {\n              value: \"Chubut\",\n              displayValue: \"Chubut\"\n            }, {\n              value: \"Cordoba\",\n              displayValue: \"Cordoba\"\n            }, {\n              value: \"Corrientes\",\n              displayValue: \"Corrientes\"\n            }, {\n              value: \"Entre Rios\",\n              displayValue: \"Entre Rios\"\n            }, {\n              value: \"Formosa\",\n              displayValue: \"Formosa\"\n            }, {\n              value: \"Jujuy\",\n              displayValue: \"Jujuy\"\n            }, {\n              value: \"La Pampa\",\n              displayValue: \"La Pampa\"\n            }, {\n              value: \"La Rioja\",\n              displayValue: \"La Rioja\"\n            }, {\n              value: \"Mendoza\",\n              displayValue: \"Mendoza\"\n            }, {\n              value: \"Misiones\",\n              displayValue: \"Misiones\"\n            }, {\n              value: \"Neuquen\",\n              displayValue: \"Neuquen\"\n            }, {\n              value: \"Rio Negro\",\n              displayValue: \"Rio Negro\"\n            }, {\n              value: \"Salta\",\n              displayValue: \"Salta\"\n            }, {\n              value: \"San Juan\",\n              displayValue: \"San Juan\"\n            }, {\n              value: \"San Luis\",\n              displayValue: \"San Luis\"\n            }, {\n              value: \"Santa Cruz\",\n              displayValue: \"Santa Cruz\"\n            }, {\n              value: \"Santa Fe\",\n              displayValue: \"Santa Fe\"\n            }, {\n              value: \"Sgo. del Estero\",\n              displayValue: \"Sgo. del Estero\"\n            }, {\n              value: \"Tierra del Fuego\",\n              displayValue: \"Tierra del Fuego\"\n            }, {\n              value: \"Tucuman\",\n              displayValue: \"Tucuman\"\n            }]\n          },\n          value: \"G.B.A (Gran Buenos Aires)\",\n          validation: {\n            required: true\n          },\n          valid: true,\n          touched: false\n        },\n        email: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"email\",\n            placeholder: \"IngresÃ¡ tu email\"\n          },\n          value: \"\",\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false\n        },\n        telefono: {\n          elementType: \"input\",\n          elementConfig: {\n            type: \"text\",\n            placeholder: \"Telefono\"\n          },\n          value: \"\",\n          validation: {\n            required: true\n          },\n          valid: false,\n          touched: false\n        }\n      },\n      formaDePago: null,\n      formIsValid: false,\n      formaDeEnvio: null,\n      loading: false\n    };\n\n    this.orderHandler = event => {\n      this.setState({\n        loading: true\n      });\n      event.preventDefault();\n      const formData = {};\n\n      for (let formElementIdentifier in this.state.orderForm) {\n        formData[formElementIdentifier] = this.state.orderForm[formElementIdentifier].value;\n      }\n\n      let time = moment().format(\"MMMM Do YYYY, h:mm:ss a\");\n      const order = {\n        basket: this.props.basket,\n        price: this.props.price,\n        orderData: formData,\n        formaDePago: this.props.formaDePago,\n        pagado: false,\n        entregado: false,\n        date: time\n      };\n      axios.post(\"/orders.json\", order).then(response => {\n        this.setState({\n          loading: false\n        }); // this.props.history.push('/')\n      }).catch(error => console.log(error)); //this.props.onLoading());\n    };\n\n    this.inputChangeHandler = (event, inputIdentifier) => {\n      const updatedOrderForm = { ...this.state.orderForm\n      };\n      const updatedFormElement = { ...updatedOrderForm[inputIdentifier]\n      };\n      updatedFormElement.value = event.target.value;\n      updatedFormElement.valid = this.checkValidity(updatedFormElement.value, updatedFormElement.validation);\n      updatedFormElement.touched = true;\n      updatedOrderForm[inputIdentifier] = updatedFormElement;\n      let formIsValid = true;\n\n      for (let inputIdentifier in updatedOrderForm) {\n        formIsValid = updatedOrderForm[inputIdentifier].valid && formIsValid;\n      }\n\n      this.setState({\n        orderForm: updatedOrderForm,\n        formIsValid: formIsValid\n      });\n    };\n\n    this.pagoHandler = event => {\n      let formaDePago = event.target.value;\n      this.props.onFormaDePagoSelected(formaDePago);\n    };\n\n    this.envioHandler = event => {\n      let formaDeEnvio = event.target.value;\n      this.props.onSelectFormaDeEnvio(formaDeEnvio);\n    };\n  }\n\n  checkValidity(value, rules) {\n    let isValid = true;\n\n    if (rules.required) {\n      isValid = value.trim() !== \"\" && isValid;\n    }\n\n    if (rules.minLength) {\n      isValid = value.length >= rules.minLength && isValid;\n    }\n\n    return isValid;\n  }\n\n  render() {\n    console.log(this.props.formaDePago);\n    const arrayClasses = [classes.submitBtn, classes.disabled];\n    const formElementsArray = [];\n\n    for (let key in this.state.orderForm) {\n      formElementsArray.push({\n        id: key,\n        config: this.state.orderForm[key]\n      });\n    }\n\n    let classesPago1 = [classes.opPago1];\n    let classesPago2 = [classes.opPago2];\n    let classesSelectorPago1 = [classes.selectorPago];\n    let classesSelectorPago2 = [classes.selectorPago];\n\n    if (this.props.formaDePago === 'MercadoPago') {\n      classesPago2.push(classes.selectFormaDePago);\n      classesSelectorPago2.push(classes.activePago);\n    }\n\n    if (this.props.formaDePago === 'Transferencia Bancaria') {\n      classesPago1.push(classes.selectFormaDePago);\n      classesSelectorPago1.push(classes.activePago);\n    }\n\n    let form = /*#__PURE__*/React.createElement(\"form\", {\n      className: classes.ContactData,\n      onSubmit: this.orderHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: classes.titleOpcionesDeEnvio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }\n    }, \"Opciones de Envio\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.formaDeEnvio,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.op1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.tipoenvioCard1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"envio\",\n      id: \"Retiro\",\n      value: \"Retiro\",\n      onChange: this.envioHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.selector,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.info1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      className: classes.precioRetiro,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 19\n      }\n    }, \"GRATIS\"), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 19\n      }\n    }, \"Retiras por San Isidro\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 19\n      }\n    }, \"Holmberg 875, Boulogne, San Isidro. Atencion de lunes a viernes de 10 a 18hs.\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.op2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.tipoenvioCard2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"envio\",\n      id: \"A convenir\",\n      value: \"A convenir\",\n      onChange: this.envioHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.selector,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.info2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 240,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 19\n      }\n    }, \"A convenir\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 19\n      }\n    }, \"Los costos del env\\xEDo quedan a cargo del comprador. Las locaciones fuera de C.A.B.A o G.B.A tienen un recargo de $350 debido a los costos del embalaje. Telefono de contacto:+54 911 55607284\")))))), /*#__PURE__*/React.createElement(\"h4\", {\n      className: classes.datosContacto,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }\n    }, \"Datos de contacto\"), formElementsArray.map(formElement => {\n      return /*#__PURE__*/React.createElement(Input, {\n        key: formElement.id,\n        elementType: formElement.config.elementType,\n        elementConfig: formElement.config.elementConfig,\n        value: formElement.config.value,\n        invalid: !formElement.config.valid,\n        shouldValidate: formElement.config.validation,\n        touched: formElement.config.touched,\n        changed: event => this.inputChangeHandler(event, formElement.id),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 13\n        }\n      });\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      className: classes.datosPago,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }\n    }, \"Opciones de Pago\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.formaDePago,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classesPago1.join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.tipoPagoCard1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"formaDePago\",\n      id: \"Transferencia Bancaria\",\n      value: \"Transferencia Bancaria\",\n      onChange: this.pagoHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classesSelectorPago1.join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.infoPago1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 19\n      }\n    }, \"Transferencia Bancaria\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 19\n      }\n    }, \"Te enviaremos un email con nuestros datos bancarios para que nos transfieras\"))))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classesPago2.join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: classes.tipoPagoCard2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"radio\",\n      name: \"formaDePago\",\n      id: \"MercadoPago\",\n      value: \"MercadoPago\",\n      onChange: this.pagoHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classesSelectorPago2.join(' '),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.infoPago2,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 19\n      }\n    }, \"MercadoPago\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 308,\n        columnNumber: 19\n      }\n    }, \"Paga con tarjetas de d\\xE9bito, cr\\xE9dito o con tu dinero guardado en MercadoPago. Tambi\\xE9n ofrecemos pagos en cuotas.\")))))), /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      className: this.props.formaDePago !== null && this.props.basket.length !== 0 && this.state.formIsValid ? arrayClasses[0] : arrayClasses.join(\" \"),\n      disabled: this.props.formaDePago === null && !this.state.formIsValid && this.props.basket.length === 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }\n    }, \"Proceder al pago\"));\n\n    if (this.state.loading) {\n      form = /*#__PURE__*/React.createElement(Spinner, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 337,\n          columnNumber: 14\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(Auxiliary, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 12\n      }\n    }, form);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    basket: state.carrito.basket,\n    price: state.carrito.totalPrice,\n    formaDePago: state.carrito.formaDePago,\n    formaDeEnvio: state.carrito.formaDeEnvio\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onCreateOrder: order => dispatch(actions.onCreateOrder(order)),\n    onFormaDePagoSelected: formaDePago => dispatch(actions.onSelectFormaDePago(formaDePago)),\n    onSelectFormaDeEnvio: formaDeEnvio => actions.onSelectFormaDeEnvio(formaDeEnvio)\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(withErrorHandler(ContactData, axios))); //this.props.basket.length === 0 &&","map":{"version":3,"sources":["C:/Users/Juan/Desktop/paginanook/nookweb/src/containers/Carrito/ContactData/ContactData.js"],"names":["React","Component","withErrorHandler","Input","classes","connect","Auxiliary","axios","withRouter","Spinner","actions","moment","ContactData","state","orderForm","nombre","elementType","elementConfig","type","placeholder","value","validation","required","valid","touched","provincia","option","displayValue","email","telefono","formaDePago","formIsValid","formaDeEnvio","loading","orderHandler","event","setState","preventDefault","formData","formElementIdentifier","time","format","order","basket","props","price","orderData","pagado","entregado","date","post","then","response","catch","error","console","log","inputChangeHandler","inputIdentifier","updatedOrderForm","updatedFormElement","target","checkValidity","pagoHandler","onFormaDePagoSelected","envioHandler","onSelectFormaDeEnvio","rules","isValid","trim","minLength","length","render","arrayClasses","submitBtn","disabled","formElementsArray","key","push","id","config","classesPago1","opPago1","classesPago2","opPago2","classesSelectorPago1","selectorPago","classesSelectorPago2","selectFormaDePago","activePago","form","titleOpcionesDeEnvio","op1","tipoenvioCard1","selector","info1","precioRetiro","op2","tipoenvioCard2","info2","datosContacto","map","formElement","datosPago","join","tipoPagoCard1","infoPago1","tipoPagoCard2","infoPago2","mapStateToProps","carrito","totalPrice","mapDispatchToProps","dispatch","onCreateOrder","onSelectFormaDePago"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport withErrorHandler from \"./../../../hoc/withErrorHandler/withErrorHandler\";\r\nimport Input from \"./../../../components/Ul/input/input\";\r\nimport classes from \"./ContactData.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport Auxiliary from \"./../../../hoc/Auxiliary\";\r\nimport axios from \"./../../../axios\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport Spinner from \"./../../../components/Ul/Spinner/Spinner\";\r\nimport * as actions from \"./../../../store/actions/index\";\r\n\r\nimport moment from \"moment\";\r\n\r\nclass ContactData extends Component {\r\n  state = {\r\n    orderForm: {\r\n      nombre: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Ingresa tu nombre y apellido\",\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n        },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      provincia: {\r\n        elementType: \"select\",\r\n        elementConfig: {\r\n          option: [\r\n            {\r\n              value: \"G.B.A (Gran Buenos Aires)\",\r\n              displayValue: \"Gran Buenos Aires (G.B.A)\",\r\n            },\r\n            {\r\n              value: \"Buenos Aires Interior\",\r\n              displayValue: \"Buenos Aires Interior\",\r\n            },\r\n            { value: \"Catamarca\", displayValue: \"Catamarca\" },\r\n            { value: \"C.A.B.A\", displayValue: \"C.A.B.A\" },\r\n            { value: \"Chaco\", displayValue: \"Chaco\" },\r\n            { value: \"Chubut\", displayValue: \"Chubut\" },\r\n            { value: \"Cordoba\", displayValue: \"Cordoba\" },\r\n            { value: \"Corrientes\", displayValue: \"Corrientes\" },\r\n            { value: \"Entre Rios\", displayValue: \"Entre Rios\" },\r\n            { value: \"Formosa\", displayValue: \"Formosa\" },\r\n            { value: \"Jujuy\", displayValue: \"Jujuy\" },\r\n            { value: \"La Pampa\", displayValue: \"La Pampa\" },\r\n            { value: \"La Rioja\", displayValue: \"La Rioja\" },\r\n            { value: \"Mendoza\", displayValue: \"Mendoza\" },\r\n            { value: \"Misiones\", displayValue: \"Misiones\" },\r\n            { value: \"Neuquen\", displayValue: \"Neuquen\" },\r\n            { value: \"Rio Negro\", displayValue: \"Rio Negro\" },\r\n            { value: \"Salta\", displayValue: \"Salta\" },\r\n            { value: \"San Juan\", displayValue: \"San Juan\" },\r\n            { value: \"San Luis\", displayValue: \"San Luis\" },\r\n            { value: \"Santa Cruz\", displayValue: \"Santa Cruz\" },\r\n            { value: \"Santa Fe\", displayValue: \"Santa Fe\" },\r\n            { value: \"Sgo. del Estero\", displayValue: \"Sgo. del Estero\" },\r\n            { value: \"Tierra del Fuego\", displayValue: \"Tierra del Fuego\" },\r\n            { value: \"Tucuman\", displayValue: \"Tucuman\" },\r\n          ],\r\n        },\r\n        value: \"G.B.A (Gran Buenos Aires)\",\r\n        validation: {\r\n          required: true,\r\n        },\r\n        valid: true,\r\n        touched: false,\r\n      },\r\n      email: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"email\",\r\n          placeholder: \"IngresÃ¡ tu email\",\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n        },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n      telefono: {\r\n        elementType: \"input\",\r\n        elementConfig: {\r\n          type: \"text\",\r\n          placeholder: \"Telefono\",\r\n        },\r\n        value: \"\",\r\n        validation: {\r\n          required: true,\r\n        },\r\n        valid: false,\r\n        touched: false,\r\n      },\r\n    },\r\n    formaDePago: null,\r\n    formIsValid: false,\r\n    formaDeEnvio: null,\r\n    loading: false,\r\n  };\r\n\r\n  orderHandler = (event) => {\r\n    this.setState({ loading: true });\r\n    event.preventDefault();\r\n    const formData = {};\r\n    for (let formElementIdentifier in this.state.orderForm) {\r\n      formData[formElementIdentifier] = this.state.orderForm[\r\n        formElementIdentifier\r\n      ].value;\r\n    }\r\n\r\n    let time = moment().format(\"MMMM Do YYYY, h:mm:ss a\");\r\n    const order = {\r\n      basket: this.props.basket,\r\n      price: this.props.price,\r\n      orderData: formData,\r\n      formaDePago: this.props.formaDePago,\r\n      pagado: false,\r\n      entregado: false,\r\n      date: time,\r\n    };\r\n\r\n    axios\r\n      .post(\"/orders.json\", order)\r\n      .then((response) => {\r\n        this.setState({ loading: false });\r\n        // this.props.history.push('/')\r\n      })\r\n      .catch((error) => console.log(error)); //this.props.onLoading());\r\n  };\r\n\r\n  checkValidity(value, rules) {\r\n    let isValid = true;\r\n\r\n    if (rules.required) {\r\n      isValid = value.trim() !== \"\" && isValid;\r\n    }\r\n\r\n    if (rules.minLength) {\r\n      isValid = value.length >= rules.minLength && isValid;\r\n    }\r\n\r\n    return isValid;\r\n  }\r\n\r\n  inputChangeHandler = (event, inputIdentifier) => {\r\n    const updatedOrderForm = {\r\n      ...this.state.orderForm,\r\n    };\r\n    const updatedFormElement = {\r\n      ...updatedOrderForm[inputIdentifier],\r\n    };\r\n\r\n    updatedFormElement.value = event.target.value;\r\n    updatedFormElement.valid = this.checkValidity(\r\n      updatedFormElement.value,\r\n      updatedFormElement.validation\r\n    );\r\n    updatedFormElement.touched = true;\r\n    updatedOrderForm[inputIdentifier] = updatedFormElement;\r\n\r\n    let formIsValid = true;\r\n    for (let inputIdentifier in updatedOrderForm) {\r\n      formIsValid = updatedOrderForm[inputIdentifier].valid && formIsValid;\r\n    }\r\n    this.setState({ orderForm: updatedOrderForm, formIsValid: formIsValid });\r\n  };\r\n\r\n  pagoHandler = (event) => {\r\n    let formaDePago = event.target.value;\r\n    this.props.onFormaDePagoSelected(formaDePago);\r\n  };\r\n\r\n  envioHandler =(event) =>{\r\n    let formaDeEnvio = event.target.value;\r\n    this.props.onSelectFormaDeEnvio(formaDeEnvio)\r\n  }\r\n\r\n  render() {\r\n    console.log(this.props.formaDePago);\r\n    const arrayClasses = [classes.submitBtn, classes.disabled];\r\n    const formElementsArray = [];\r\n    for (let key in this.state.orderForm) {\r\n      formElementsArray.push({\r\n        id: key,\r\n        config: this.state.orderForm[key],\r\n      });\r\n    }\r\n\r\n    let classesPago1 = [classes.opPago1];\r\n    let classesPago2 = [classes.opPago2];\r\n    let classesSelectorPago1=[classes.selectorPago]\r\n    let classesSelectorPago2=[classes.selectorPago]\r\n\r\n    if(this.props.formaDePago === 'MercadoPago'){\r\n        classesPago2.push(classes.selectFormaDePago)\r\n        classesSelectorPago2.push(classes.activePago)\r\n    }\r\n    if(this.props.formaDePago === 'Transferencia Bancaria'){\r\n        classesPago1.push(classes.selectFormaDePago)\r\n        classesSelectorPago1.push(classes.activePago)\r\n    }\r\n\r\n    let form = (\r\n      <form className={classes.ContactData} onSubmit={this.orderHandler}>\r\n        <h4 className={classes.titleOpcionesDeEnvio}>Opciones de Envio</h4>\r\n        <div className={classes.formaDeEnvio}>\r\n          <div className={classes.op1}>\r\n            <label className={classes.tipoenvioCard1}>\r\n              <input type=\"radio\" name=\"envio\" id=\"Retiro\" value=\"Retiro\" onChange={this.envioHandler} />\r\n              <div className={classes.selector}></div>\r\n              <div className={classes.info1}>\r\n                <span>\r\n                  <h4 className={classes.precioRetiro}>GRATIS</h4>\r\n                  <div>Retiras por San Isidro</div>\r\n                  <p>\r\n                    Holmberg 875, Boulogne, San Isidro. Atencion de lunes a\r\n                    viernes de 10 a 18hs.\r\n                  </p>\r\n                </span>\r\n              </div>\r\n            </label>\r\n          </div>\r\n          <div className={classes.op2}>\r\n            <label className={classes.tipoenvioCard2}>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"envio\"\r\n                id=\"A convenir\"\r\n                value=\"A convenir\"\r\n                onChange={this.envioHandler}\r\n              />\r\n              <div className={classes.selector}></div>\r\n              <div className={classes.info2}>\r\n                <span>\r\n                  <div>A convenir</div>\r\n                  <p>\r\n                    Los costos del envÃ­o quedan a cargo del comprador. Las\r\n                    locaciones fuera de C.A.B.A o G.B.A tienen un recargo de\r\n                    $350 debido a los costos del embalaje. Telefono de\r\n                    contacto:+54 911 55607284\r\n                  </p>\r\n                </span>\r\n              </div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n\r\n        <h4 className={classes.datosContacto}>Datos de contacto</h4>\r\n        {formElementsArray.map((formElement) => {\r\n          return (\r\n            <Input\r\n              key={formElement.id}\r\n              elementType={formElement.config.elementType}\r\n              elementConfig={formElement.config.elementConfig}\r\n              value={formElement.config.value}\r\n              invalid={!formElement.config.valid}\r\n              shouldValidate={formElement.config.validation}\r\n              touched={formElement.config.touched}\r\n              changed={(event) =>\r\n                this.inputChangeHandler(event, formElement.id)\r\n              }\r\n            />\r\n          );\r\n        })}\r\n        <h4 className={classes.datosPago}>Opciones de Pago</h4>\r\n        <div className={classes.formaDePago}>\r\n          <div className={classesPago1.join(' ')}>\r\n            <label className={classes.tipoPagoCard1}>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"formaDePago\"\r\n                id=\"Transferencia Bancaria\"\r\n                value=\"Transferencia Bancaria\"\r\n                onChange={this.pagoHandler}\r\n              />\r\n              <div className={classesSelectorPago1.join(' ')}></div>\r\n              <div className={classes.infoPago1}>\r\n                <span>\r\n                  <div>Transferencia Bancaria</div>\r\n                  <p>\r\n                    Te enviaremos un email con nuestros datos bancarios para que\r\n                    nos transfieras\r\n                  </p>\r\n                </span>\r\n              </div>\r\n            </label>\r\n          </div>\r\n          <div className={classesPago2.join(' ')}>\r\n            <label className={classes.tipoPagoCard2}>\r\n              <input\r\n                type=\"radio\"\r\n                name=\"formaDePago\"\r\n                id=\"MercadoPago\"\r\n                value=\"MercadoPago\"\r\n                onChange={this.pagoHandler}\r\n              />\r\n              <div className={classesSelectorPago2.join(' ')}></div>\r\n              <div className={classes.infoPago2}>\r\n                <span>\r\n                  <div>MercadoPago</div>\r\n                  <p>\r\n                    Paga con tarjetas de dÃ©bito, crÃ©dito o con tu dinero\r\n                    guardado en MercadoPago. TambiÃ©n ofrecemos pagos en cuotas.\r\n                  </p>\r\n                </span>\r\n              </div>\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className={\r\n            this.props.formaDePago !== null &&\r\n            this.props.basket.length !== 0 &&\r\n            this.state.formIsValid\r\n              ? arrayClasses[0]\r\n              : arrayClasses.join(\" \")\r\n          }\r\n          disabled={\r\n            this.props.formaDePago === null &&\r\n            !this.state.formIsValid &&\r\n            this.props.basket.length === 0\r\n          }\r\n        >\r\n          Proceder al pago\r\n        </button>\r\n      </form>\r\n    );\r\n    if (this.state.loading) {\r\n      form = <Spinner />;\r\n    }\r\n\r\n    return <Auxiliary>{form}</Auxiliary>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    basket: state.carrito.basket,\r\n    price: state.carrito.totalPrice,\r\n    formaDePago: state.carrito.formaDePago,\r\n    formaDeEnvio: state.carrito.formaDeEnvio\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onCreateOrder: (order) => dispatch(actions.onCreateOrder(order)),\r\n    onFormaDePagoSelected: (formaDePago) =>\r\n      dispatch(actions.onSelectFormaDePago(formaDePago)),\r\n    onSelectFormaDeEnvio: (formaDeEnvio)=>(actions.onSelectFormaDeEnvio(formaDeEnvio))\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(withErrorHandler(ContactData, axios)));\r\n\r\n//this.props.basket.length === 0 &&\r\n"]},"metadata":{},"sourceType":"module"}