{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Modal from'./../../components/Ul/Modal/Modal';import Auxiliary from'./../Auxiliary';var withErrorHandler=function withErrorHandler(WrappedComponent,axios){var _temp;return _temp=/*#__PURE__*/function(_Component){_inherits(_temp,_Component);var _super=_createSuper(_temp);function _temp(){var _this;_classCallCheck(this,_temp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={error:null};_this.errorConfirmedHandler=function(){_this.setState({error:null});};return _this;}_createClass(_temp,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;axios.interceptors.request.use(function(req){_this2.setState({error:null});return req;});axios.interceptors.response.use(function(res){return res;},function(error){_this2.setState({error:error});});}},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(Auxiliary,null,/*#__PURE__*/React.createElement(Modal,{modalClosed:this.errorConfirmedHandler,show:this.state.error},this.state.error?this.state.error.message:null),/*#__PURE__*/React.createElement(WrappedComponent,this.props));}}]);return _temp;}(Component),_temp;};export default withErrorHandler;","map":{"version":3,"sources":["C:/Users/Juan/Desktop/paginanook/nookweb/src/hoc/withErrorHandler/withErrorHandler.js"],"names":["React","Component","Modal","Auxiliary","withErrorHandler","WrappedComponent","axios","state","error","errorConfirmedHandler","setState","interceptors","request","use","req","response","res","message","props"],"mappings":"opBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CAEA,MAAOC,CAAAA,KAAP,KAAkB,mCAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,gBAAtB,CAEA,GAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,gBAAD,CAAmBC,KAAnB,CAA4B,WACjD,mUACIC,KADJ,CACU,CACFC,KAAK,CAAE,IADL,CADV,OAcIC,qBAdJ,CAc0B,UAAI,CACtB,MAAKC,QAAL,CAAc,CAACF,KAAK,CAAE,IAAR,CAAd,EACH,CAhBL,8FAIuB,iBACfF,KAAK,CAACK,YAAN,CAAmBC,OAAnB,CAA2BC,GAA3B,CAA+B,SAAAC,GAAG,CAAG,CACjC,MAAI,CAACJ,QAAL,CAAc,CAACF,KAAK,CAAE,IAAR,CAAd,EACA,MAAOM,CAAAA,GAAP,CACH,CAHD,EAIAR,KAAK,CAACK,YAAN,CAAmBI,QAAnB,CAA4BF,GAA5B,CAAgC,SAAAG,GAAG,QAAIA,CAAAA,GAAJ,EAAnC,CAA4C,SAAAR,KAAK,CAAE,CAC/C,MAAI,CAACE,QAAL,CAAc,CAACF,KAAK,CAAEA,KAAR,CAAd,EACH,CAFD,EAGH,CAZL,uCAiBY,CACL,mBACC,oBAAC,SAAD,mBACI,oBAAC,KAAD,EACA,WAAW,CAAE,KAAKC,qBADlB,CAEA,IAAI,CAAE,KAAKF,KAAL,CAAWC,KAFjB,EAGK,KAAKD,KAAL,CAAWC,KAAX,CAAmB,KAAKD,KAAL,CAAWC,KAAX,CAAiBS,OAApC,CAA8C,IAHnD,CADJ,cAMG,oBAAC,gBAAD,CAAsB,KAAKC,KAA3B,CANH,CADD,CAWF,CA7BL,mBAAqBjB,SAArB,QA+BH,CAhCD,CAmCA,cAAeG,CAAAA,gBAAf","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport Modal from './../../components/Ul/Modal/Modal';\r\nimport Auxiliary from './../Auxiliary';\r\n\r\nconst withErrorHandler = (WrappedComponent, axios) =>{\r\n    return class extends Component{\r\n        state={\r\n            error: null\r\n        }\r\n        componentDidMount(){\r\n            axios.interceptors.request.use(req =>{\r\n                this.setState({error: null});\r\n                return req\r\n            });\r\n            axios.interceptors.response.use(res => res, error=>{\r\n                this.setState({error: error})\r\n            });\r\n        }\r\n\r\n        errorConfirmedHandler=()=>{\r\n            this.setState({error: null});\r\n        }\r\n        render(){\r\n           return(\r\n            <Auxiliary>\r\n                <Modal \r\n                modalClosed={this.errorConfirmedHandler}\r\n                show={this.state.error}>\r\n                    {this.state.error ? this.state.error.message : null}\r\n                </Modal>\r\n               <WrappedComponent {...this.props}/> \r\n            </Auxiliary>\r\n \r\n        ); \r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default withErrorHandler;"]},"metadata":{},"sourceType":"module"}