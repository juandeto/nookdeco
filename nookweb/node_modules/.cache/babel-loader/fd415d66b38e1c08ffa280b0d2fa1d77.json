{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Juan\\\\Desktop\\\\paginanook\\\\nookweb\\\\src\\\\containers\\\\RespaldoBuilder\\\\RespaldoBuilder.js\";\nimport React, { Component } from \"react\";\nimport * as actions from \"./../../store/actions/actionTypes\";\nimport { Route, Switch } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport classes from \"./RespaldoBuilder.module.css\";\nimport ContainerRespaldo from \"../../components/Respaldo/Respaldo/ContainerRespaldo\";\nimport Formas from \"./../../components/Respaldo/OpcionesRespaldo/Formas/Formas\";\nimport Medidas from \"./../../components/Respaldo/OpcionesRespaldo/Medidas/Medidas\";\nimport GenerosYColores from \"./../../components/Respaldo/OpcionesRespaldo/GenerosYColores/GenerosYColores\";\nimport Tachas from \"./../../components/Respaldo/OpcionesRespaldo/Tachas/Tachas\";\nimport Modelos from \"./../../components/Respaldo/OpcionesRespaldo/Modelos/Modelos\";\nimport Colores from \"./../../components/Respaldo/OpcionesRespaldo/Colores/Colores\";\nimport Mapa from \"./../../components/Respaldo/Mapa/Mapa\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\n\nclass RespaldoBuilder extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      index: 0,\n      opciones: {\n        formas: [{\n          tipo: \"Rectangular\",\n          precio: 900,\n          select: false\n        }, {\n          tipo: \"Capilla\",\n          precio: 900,\n          select: false\n        }, {\n          tipo: \"Oval\",\n          precio: 900,\n          select: false\n        }, {\n          tipo: \"Esquinas Redondas\",\n          precio: 900,\n          select: false\n        }],\n        medidas: [{\n          altura: 1.0,\n          ancho: 1.2,\n          precio: 9000,\n          select: false\n        }, {\n          altura: 1.4,\n          ancho: 1.2,\n          precio: 9500,\n          select: false\n        }, {\n          altura: 1.6,\n          ancho: 1.2,\n          precio: 9900,\n          select: false\n        }, {\n          altura: 1.8,\n          ancho: 1.2,\n          precio: 10900,\n          select: false\n        }, {\n          altura: 2.0,\n          ancho: 1.2,\n          precio: 11900,\n          select: false\n        }, {\n          altura: 2.2,\n          ancho: 1.2,\n          precio: 12900,\n          select: false\n        }],\n        generosycolores: [{\n          tipo: \"Lino Suizo\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }, {\n          tipo: \"Lino Paris\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }, {\n          tipo: \"Lino Costa\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }, {\n          tipo: \"Pana Dresden\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }, {\n          tipo: \"Pana Portugal\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }, {\n          tipo: \"Ecocuero\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }, {\n          tipo: \"Tussor Rayado\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }, {\n          tipo: \"Tussor Liso\",\n          color: [\"Rosa\", \"Rojo Bermellon\", \"Azul\", \"Beige\", \"Gris\", \"Turquesa\"],\n          select: false,\n          precio: 1000\n        }],\n        tachas: [{\n          tamanio: \"Tachas Grandes\",\n          select: false,\n          tipo: [{\n            tipo: \"ﾃ度ido\",\n            select: false\n          }, {\n            tipo: \"Peltre\",\n            select: false\n          }, {\n            tipo: \"Plateado\",\n            select: false\n          }],\n          precio: 800\n        }, {\n          tamanio: \"Tachas Medianas\",\n          select: false,\n          tipo: [{\n            tipo: \"ﾃ度ido\",\n            select: false\n          }, {\n            tipo: \"Peltre\",\n            select: false\n          }, {\n            tipo: \"Plateado\",\n            select: false\n          }],\n          precio: 500\n        }, {\n          tamanio: \"Sin Tachas\",\n          tipo: [],\n          precio: 0,\n          select: false\n        }],\n        modelos: [{\n          tipo: \"Liso\",\n          precio: 0,\n          select: false\n        }, {\n          tipo: \"Tacha Grande\",\n          precio: 0,\n          select: false\n        }, {\n          tipo: \"Tacha Junta\",\n          precio: 1000,\n          select: false\n        }, {\n          tipo: \"Doble Tacha\",\n          precio: 900,\n          select: false\n        }, {\n          tipo: \"Botone\",\n          precio: 1200,\n          select: false\n        }, {\n          tipo: \"Capitone\",\n          precio: 5000,\n          select: false\n        }, {\n          tipo: \"Canelon\",\n          precio: 8000,\n          select: false\n        }, {\n          tipo: \"Con Funda Lisa\",\n          precio: 3250,\n          select: false\n        }]\n      }\n    };\n  }\n\n  componentDidMount() {\n    const baseUrl = \"/respaldo-options/respaldo-builder\";\n    const keys = [\"\", \"/medidas\", \"/generosycolores\", \"/colores\", \"/tachas\", \"/modelos\"];\n    let location = this.props.history.location.pathname;\n    location = location.replace(baseUrl, \"\");\n    let ind = keys.findIndex(key => key === location);\n\n    if (ind === -1) {\n      return ind = 0;\n    }\n\n    this.setState({\n      index: ind\n    });\n  }\n\n  render() {\n    const keys = [\"/\", \"/medidas\", \"/generosycolores\", \"/colores\", \"/tachas\", \"/modelos\"];\n    const baseUrl = \"/respaldo-options/respaldo-builder\";\n\n    const toggleRoutesHandlerLeft = location => {\n      location = location.replace(baseUrl, \"\");\n      let index = this.state.index;\n\n      if (keys[index - 1] === undefined) {\n        return;\n      }\n\n      this.setState({\n        index: index - 1\n      });\n      return this.props.history.push(baseUrl + keys[index - 1]);\n    };\n\n    const toggleRoutesHandlerRight = location => {\n      location = location.replace(baseUrl, \"\");\n      let index = keys.indexOf(location);\n\n      if (keys[index + 1] === undefined) {\n        return this.props.history.push(\"/resumen-respaldo\");\n      }\n\n      if (index === -1) {\n        index = 0;\n      }\n\n      this.setState({\n        index: index + 1\n      });\n      return this.props.history.push(baseUrl + keys[index + 1]);\n    };\n\n    const routes = [\"Formas\", \"Medidas\", \"Generos\", \"Colores\", \"Tachas\", \"Modelos\"];\n    const pathname = this.props.history.location.pathname;\n\n    const selectItem = (opcion, arg1) => [...opcion].map(item => {\n      console.log(item[arg1]);\n\n      if (Object.values(item) === arg1) {\n        return { ...item,\n          select: true\n        };\n      } else {\n        return { ...item,\n          select: false\n        };\n      }\n    }); //metodos para cambiar el respaldo...\n\n\n    const setFormas = (tipo, precio) => {\n      this.setState({\n        opciones: { ...this.state.opciones,\n          formas: selectItem(this.state.opciones.formas, tipo)\n        }\n      });\n      this.props.onFormaSelected(tipo, precio);\n    };\n\n    const setMedida = (altura, ancho, precio) => {\n      this.setState({\n        opciones: {\n          medidas: selectItem(this.state.opciones.medidas, ancho)\n        }\n      });\n      this.props.onMedidaSelected(altura, ancho, precio);\n    };\n\n    const setGenero = (tipo, precio) => {\n      this.setState({ ...this.state,\n        opciones: { ...this.state.opciones,\n          generosycolores: selectItem(this.state.opciones.generosycolores, tipo)\n        }\n      });\n      this.props.onGeneroYColorSelected(tipo, precio);\n    };\n\n    const setTacha = (tamanio, precio) => {\n      this.setState({ ...this.state,\n        opciones: { ...this.state.opciones,\n          tachas: selectItem(this.state.opciones.tachas, tamanio)\n        }\n      });\n      this.props.onTachaSelected(tamanio, precio);\n    };\n\n    const selectTipo = () => {\n      let newTipoTachas = [...this.state.opciones.tachas];\n      return newTipoTachas.map(tamanio => {\n        if (tamanio.select) {\n          return { ...tamanio,\n            tipo: tamanio.tipo.map(tipo => {\n              if (tipo.tipo === tipo) {\n                return { ...tipo,\n                  select: true\n                };\n              } else {\n                return { ...tipo,\n                  select: false\n                };\n              }\n            })\n          };\n        } else {\n          return { ...tamanio\n          };\n        }\n      });\n    };\n\n    const setTipoDeTacha = tipo => {\n      this.setState({ ...this.state,\n        tachas: selectTipo(tipo)\n      });\n      this.props.onTipoDeTachaSelected(tipo);\n    };\n\n    console.log(this.state);\n\n    const setModelo = (tipo, precio) => {\n      this.setState({\n        modelos: selectItem(this.state.opciones.modelos, tipo)\n      });\n      this.props.onModeloSelected(tipo, precio);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.RespaldoBuilder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.headerRespaldo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ArrowForwardIosIcon, {\n      className: classes.ArrowRight,\n      onClick: () => toggleRoutesHandlerRight(pathname),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 11\n      }\n    }, \"#\", this.state.index + 1, \": \", routes[this.state.index]), /*#__PURE__*/React.createElement(ArrowBackIosIcon, {\n      className: classes.ArrowLeft,\n      onClick: () => toggleRoutesHandlerLeft(pathname),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(Mapa, {\n      routes: routes,\n      index: this.state.index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.croquisRespaldo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(ContainerRespaldo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.precioTotal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 474,\n        columnNumber: 11\n      }\n    }, \"Precio Total:\", /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 13\n      }\n    }, \"$\", this.props.precioRespaldo.toFixed(2)))), /*#__PURE__*/React.createElement(\"div\", {\n      className: classes.control,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Switch, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Route, {\n      path: baseUrl + \"/medidas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Medidas, {\n      medidas: this.state.opciones.medidas,\n      selectMedida: setMedida,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 482,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: baseUrl + \"/generosycolores\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(GenerosYColores, {\n      generos: this.state.opciones.generosycolores,\n      selectGenero: setGenero,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 488,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: baseUrl + \"/colores\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Colores, {\n      color: this.state.opciones.color,\n      generoParaColor: this.state.opciones.generosycolores,\n      selectColor: this.props.onColorSelected,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 494,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: baseUrl + \"/tachas\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Tachas, {\n      tachas: this.state.opciones.tachas,\n      selectTacha: setTacha,\n      selectTipoDeTacha: setTipoDeTacha,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: baseUrl + \"/modelos\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Modelos, {\n      selectModelo: setModelo,\n      modelos: this.state.opciones.modelos,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 508,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(Route, {\n      path: baseUrl + \"/\",\n      exact: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Formas, {\n      formas: this.state.opciones.formas,\n      selected: setFormas,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 15\n      }\n    })))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    precioRespaldo: state.respaldo.precioRespaldo\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    onFormaSelected: (tipo, precio) => dispatch({\n      type: actions.SET_FORMA,\n      tipo: tipo,\n      precio: precio\n    }),\n    onMedidaSelected: (altura, ancho) => dispatch({\n      type: actions.SET_MEDIDAS,\n      ancho: ancho,\n      altura: altura\n    }),\n    onGeneroYColorSelected: tipo => dispatch({\n      type: actions.SET_GENEROYCOLOR,\n      tipo: tipo\n    }),\n    onColorSelected: color => dispatch({\n      type: actions.SET_COLOR,\n      color: color\n    }),\n    onTachaSelected: tamanio => dispatch({\n      type: actions.SET_TACHA,\n      tamanio: tamanio\n    }),\n    onTipoDeTachaSelected: tipo => dispatch({\n      type: actions.SET_TIPO_TACHA,\n      tipo: tipo\n    }),\n    onModeloSelected: tipo => dispatch({\n      type: actions.SET_MODELO,\n      tipo: tipo\n    })\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RespaldoBuilder);","map":{"version":3,"sources":["C:/Users/Juan/Desktop/paginanook/nookweb/src/containers/RespaldoBuilder/RespaldoBuilder.js"],"names":["React","Component","actions","Route","Switch","connect","classes","ContainerRespaldo","Formas","Medidas","GenerosYColores","Tachas","Modelos","Colores","Mapa","ArrowForwardIosIcon","ArrowBackIosIcon","RespaldoBuilder","state","index","opciones","formas","tipo","precio","select","medidas","altura","ancho","generosycolores","color","tachas","tamanio","modelos","componentDidMount","baseUrl","keys","location","props","history","pathname","replace","ind","findIndex","key","setState","render","toggleRoutesHandlerLeft","undefined","push","toggleRoutesHandlerRight","indexOf","routes","selectItem","opcion","arg1","map","item","console","log","Object","values","setFormas","onFormaSelected","setMedida","onMedidaSelected","setGenero","onGeneroYColorSelected","setTacha","onTachaSelected","selectTipo","newTipoTachas","setTipoDeTacha","onTipoDeTachaSelected","setModelo","onModeloSelected","headerRespaldo","ArrowRight","ArrowLeft","croquisRespaldo","precioTotal","precioRespaldo","toFixed","control","onColorSelected","mapStateToProps","respaldo","mapDispatchToProps","dispatch","type","SET_FORMA","SET_MEDIDAS","SET_GENEROYCOLOR","SET_COLOR","SET_TACHA","SET_TIPO_TACHA","SET_MODELO"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport * as actions from \"./../../store/actions/actionTypes\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport classes from \"./RespaldoBuilder.module.css\";\r\nimport ContainerRespaldo from \"../../components/Respaldo/Respaldo/ContainerRespaldo\";\r\nimport Formas from \"./../../components/Respaldo/OpcionesRespaldo/Formas/Formas\";\r\nimport Medidas from \"./../../components/Respaldo/OpcionesRespaldo/Medidas/Medidas\";\r\nimport GenerosYColores from \"./../../components/Respaldo/OpcionesRespaldo/GenerosYColores/GenerosYColores\";\r\nimport Tachas from \"./../../components/Respaldo/OpcionesRespaldo/Tachas/Tachas\";\r\nimport Modelos from \"./../../components/Respaldo/OpcionesRespaldo/Modelos/Modelos\";\r\nimport Colores from \"./../../components/Respaldo/OpcionesRespaldo/Colores/Colores\";\r\nimport Mapa from \"./../../components/Respaldo/Mapa/Mapa\";\r\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\r\nimport ArrowBackIosIcon from \"@material-ui/icons/ArrowBackIos\";\r\n\r\nclass RespaldoBuilder extends Component {\r\n  state = {\r\n    index: 0,\r\n    opciones: {\r\n      formas: [\r\n        {\r\n          tipo: \"Rectangular\",\r\n          precio: 900,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Capilla\",\r\n          precio: 900,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Oval\",\r\n          precio: 900,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Esquinas Redondas\",\r\n          precio: 900,\r\n          select: false,\r\n        },\r\n      ],\r\n\r\n      medidas: [\r\n        {\r\n          altura: 1.0,\r\n          ancho: 1.2,\r\n          precio: 9000,\r\n          select: false,\r\n        },\r\n        {\r\n          altura: 1.4,\r\n          ancho: 1.2,\r\n          precio: 9500,\r\n          select: false,\r\n        },\r\n        {\r\n          altura: 1.6,\r\n          ancho: 1.2,\r\n          precio: 9900,\r\n          select: false,\r\n        },\r\n        {\r\n          altura: 1.8,\r\n          ancho: 1.2,\r\n          precio: 10900,\r\n          select: false,\r\n        },\r\n        {\r\n          altura: 2.0,\r\n          ancho: 1.2,\r\n          precio: 11900,\r\n          select: false,\r\n        },\r\n        {\r\n          altura: 2.2,\r\n          ancho: 1.2,\r\n          precio: 12900,\r\n          select: false,\r\n        },\r\n      ],\r\n      generosycolores: [\r\n        {\r\n          tipo: \"Lino Suizo\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n        {\r\n          tipo: \"Lino Paris\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n        {\r\n          tipo: \"Lino Costa\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n        {\r\n          tipo: \"Pana Dresden\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n        {\r\n          tipo: \"Pana Portugal\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n        {\r\n          tipo: \"Ecocuero\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n        {\r\n          tipo: \"Tussor Rayado\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n        {\r\n          tipo: \"Tussor Liso\",\r\n          color: [\r\n            \"Rosa\",\r\n            \"Rojo Bermellon\",\r\n            \"Azul\",\r\n            \"Beige\",\r\n            \"Gris\",\r\n            \"Turquesa\",\r\n          ],\r\n          select: false,\r\n          precio: 1000,\r\n        },\r\n      ],\r\n      tachas: [\r\n        {\r\n          tamanio: \"Tachas Grandes\",\r\n          select: false,\r\n          tipo: [\r\n            {\r\n              tipo: \"ﾃ度ido\",\r\n              select: false,\r\n            },\r\n            {\r\n              tipo: \"Peltre\",\r\n              select: false,\r\n            },\r\n            {\r\n              tipo: \"Plateado\",\r\n              select: false,\r\n            },\r\n          ],\r\n          precio: 800,\r\n        },\r\n        {\r\n          tamanio: \"Tachas Medianas\",\r\n          select: false,\r\n          tipo: [\r\n            {\r\n              tipo: \"ﾃ度ido\",\r\n              select: false,\r\n            },\r\n            {\r\n              tipo: \"Peltre\",\r\n              select: false,\r\n            },\r\n            {\r\n              tipo: \"Plateado\",\r\n              select: false,\r\n            },\r\n          ],\r\n          precio: 500,\r\n        },\r\n        {\r\n          tamanio: \"Sin Tachas\",\r\n          tipo: [],\r\n          precio: 0,\r\n          select: false,\r\n        },\r\n      ],\r\n      modelos: [\r\n        {\r\n          tipo: \"Liso\",\r\n          precio: 0,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Tacha Grande\",\r\n          precio: 0,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Tacha Junta\",\r\n          precio: 1000,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Doble Tacha\",\r\n          precio: 900,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Botone\",\r\n          precio: 1200,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Capitone\",\r\n          precio: 5000,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Canelon\",\r\n          precio: 8000,\r\n          select: false,\r\n        },\r\n        {\r\n          tipo: \"Con Funda Lisa\",\r\n          precio: 3250,\r\n          select: false,\r\n        },\r\n      ],\r\n    },\r\n  };\r\n \r\n  componentDidMount() {\r\n    const baseUrl = \"/respaldo-options/respaldo-builder\";\r\n    const keys = [\r\n      \"\",\r\n      \"/medidas\",\r\n      \"/generosycolores\",\r\n      \"/colores\",\r\n      \"/tachas\",\r\n      \"/modelos\",\r\n    ];\r\n    let location = this.props.history.location.pathname;\r\n\r\n    location = location.replace(baseUrl, \"\");\r\n\r\n    let ind = keys.findIndex((key) => key === location);\r\n    if (ind === -1) {\r\n      return (ind = 0);\r\n    }\r\n    this.setState({ index: ind });\r\n  }\r\n\r\n  render() {\r\n    const keys = [\r\n      \"/\",\r\n      \"/medidas\",\r\n      \"/generosycolores\",\r\n      \"/colores\",\r\n      \"/tachas\",\r\n      \"/modelos\",\r\n    ];\r\n    const baseUrl = \"/respaldo-options/respaldo-builder\";\r\n    const toggleRoutesHandlerLeft = (location) => {\r\n      location = location.replace(baseUrl, \"\");\r\n\r\n      let index = this.state.index;\r\n\r\n      if (keys[index - 1] === undefined) {\r\n        return;\r\n      }\r\n      this.setState({ index: index - 1 });\r\n      return this.props.history.push(baseUrl + keys[index - 1]);\r\n    };\r\n\r\n    const toggleRoutesHandlerRight = (location) => {\r\n      location = location.replace(baseUrl, \"\");\r\n\r\n      let index = keys.indexOf(location);\r\n\r\n      if (keys[index + 1] === undefined) {\r\n        return this.props.history.push(\"/resumen-respaldo\");\r\n      }\r\n      if (index === -1) {\r\n        index = 0;\r\n      }\r\n      this.setState({ index: index + 1 });\r\n      return this.props.history.push(baseUrl + keys[index + 1]);\r\n    };\r\n\r\n    const routes = [\r\n      \"Formas\",\r\n      \"Medidas\",\r\n      \"Generos\",\r\n      \"Colores\",\r\n      \"Tachas\",\r\n      \"Modelos\",\r\n    ];\r\n    const pathname = this.props.history.location.pathname;\r\n\r\n    const selectItem = (opcion, arg1) =>\r\n      [...opcion].map((item) => {\r\n        console.log(item[arg1]);\r\n        if (Object.values(item)=== arg1) {\r\n          return {\r\n            ...item,\r\n            select: true,\r\n          };\r\n        } else {\r\n          return {\r\n            ...item,\r\n            select: false,\r\n          };\r\n        }\r\n      });\r\n\r\n    //metodos para cambiar el respaldo...\r\n\r\n    const setFormas = (tipo, precio) => {\r\n      this.setState({\r\n        opciones: {\r\n          ...this.state.opciones,\r\n          formas: selectItem(this.state.opciones.formas, tipo),\r\n        }\r\n      });\r\n      this.props.onFormaSelected(tipo, precio);\r\n    };\r\n\r\n    const setMedida = (altura, ancho, precio) => {\r\n      this.setState({\r\n        opciones: {\r\n          medidas: selectItem(this.state.opciones.medidas, ancho)\r\n        },\r\n      });\r\n      this.props.onMedidaSelected(altura, ancho, precio);\r\n    };\r\n\r\n    const setGenero = (tipo, precio) => {\r\n      this.setState({\r\n        ...this.state,\r\n        opciones: {\r\n          ...this.state.opciones,\r\n          generosycolores: selectItem(\r\n            this.state.opciones.generosycolores,\r\n            tipo\r\n          ),\r\n        },\r\n      });\r\n      this.props.onGeneroYColorSelected(tipo, precio);\r\n    };\r\n\r\n    const setTacha = (tamanio, precio) => {\r\n      this.setState({\r\n        ...this.state,\r\n        opciones: {\r\n          ...this.state.opciones,\r\n          tachas: selectItem(this.state.opciones.tachas, tamanio),\r\n        },\r\n      });\r\n      this.props.onTachaSelected(tamanio, precio);\r\n    };\r\n\r\n    \r\n\r\n    const selectTipo = () => {\r\n      let newTipoTachas = [...this.state.opciones.tachas];\r\n      return newTipoTachas.map((tamanio) => {\r\n        if (tamanio.select) {\r\n          return {\r\n            ...tamanio,\r\n            tipo: tamanio.tipo.map((tipo) => {\r\n              if (tipo.tipo === tipo) {\r\n                return {\r\n                  ...tipo,\r\n                  select: true,\r\n                };\r\n              } else {\r\n                return {\r\n                  ...tipo,\r\n                  select: false,\r\n                };\r\n              }\r\n            }),\r\n          };\r\n        } else {\r\n          return {\r\n            ...tamanio,\r\n          };\r\n        }\r\n      });\r\n    };\r\n\r\n    const setTipoDeTacha = (tipo) =>{\r\n      this.setState({\r\n        ...this.state,\r\n        tachas: selectTipo(tipo)});\r\n      this.props.onTipoDeTachaSelected(tipo)\r\n    }\r\n    console.log(this.state);\r\n    const setModelo = (tipo, precio) =>{\r\n      this.setState({\r\n        modelos: selectItem(this.state.opciones.modelos, tipo)\r\n      });\r\n      this.props.onModeloSelected(tipo, precio)\r\n    }\r\n\r\n    return (\r\n      <div className={classes.RespaldoBuilder}>\r\n        <div className={classes.headerRespaldo}>\r\n          <ArrowForwardIosIcon\r\n            className={classes.ArrowRight}\r\n            onClick={() => toggleRoutesHandlerRight(pathname)}\r\n          />\r\n\r\n          <h2>\r\n            #{this.state.index + 1}: {routes[this.state.index]}\r\n          </h2>\r\n\r\n          <ArrowBackIosIcon\r\n            className={classes.ArrowLeft}\r\n            onClick={() => toggleRoutesHandlerLeft(pathname)}\r\n          />\r\n          <Mapa routes={routes} index={this.state.index} />\r\n        </div>\r\n        <div className={classes.croquisRespaldo}>\r\n          <ContainerRespaldo />\r\n          <div className={classes.precioTotal}>\r\n            Precio Total:\r\n            <strong>${this.props.precioRespaldo.toFixed(2)}</strong>\r\n          </div>\r\n        </div>\r\n        <div className={classes.control}>\r\n          <Switch>\r\n            <Route path={baseUrl + \"/medidas\"}>\r\n              <Medidas\r\n                medidas={this.state.opciones.medidas}\r\n                selectMedida={setMedida}\r\n              />\r\n            </Route>\r\n            <Route path={baseUrl + \"/generosycolores\"}>\r\n              <GenerosYColores\r\n                generos={this.state.opciones.generosycolores}\r\n                selectGenero={setGenero}\r\n              />\r\n            </Route>\r\n            <Route path={baseUrl + \"/colores\"}>\r\n              <Colores\r\n                color={this.state.opciones.color}\r\n                generoParaColor={this.state.opciones.generosycolores}\r\n                selectColor={this.props.onColorSelected}\r\n              />\r\n            </Route>\r\n            <Route path={baseUrl + \"/tachas\"}>\r\n              <Tachas\r\n                tachas={this.state.opciones.tachas}\r\n                selectTacha={setTacha}\r\n                selectTipoDeTacha={setTipoDeTacha}\r\n              />\r\n            </Route>\r\n            <Route path={baseUrl + \"/modelos\"}>\r\n              <Modelos\r\n                selectModelo={setModelo}\r\n                modelos={this.state.opciones.modelos}\r\n              />\r\n            </Route>\r\n            <Route path={baseUrl + \"/\"} exact>\r\n              <Formas\r\n                formas={this.state.opciones.formas}\r\n                selected={setFormas}\r\n              />\r\n            </Route>\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    precioRespaldo: state.respaldo.precioRespaldo,\r\n  };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onFormaSelected: (tipo, precio) =>\r\n      dispatch({ type: actions.SET_FORMA, tipo: tipo, precio: precio }),\r\n    onMedidaSelected: (altura, ancho) =>\r\n      dispatch({ type: actions.SET_MEDIDAS, ancho: ancho, altura: altura }),\r\n    onGeneroYColorSelected: (tipo) =>\r\n      dispatch({ type: actions.SET_GENEROYCOLOR, tipo: tipo }),\r\n    onColorSelected: (color) =>\r\n      dispatch({ type: actions.SET_COLOR, color: color }),\r\n    onTachaSelected: (tamanio) =>\r\n      dispatch({ type: actions.SET_TACHA, tamanio: tamanio }),\r\n    onTipoDeTachaSelected: (tipo) =>\r\n      dispatch({ type: actions.SET_TIPO_TACHA, tipo: tipo }),\r\n    onModeloSelected: (tipo) =>\r\n      dispatch({ type: actions.SET_MODELO, tipo: tipo }),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(RespaldoBuilder);\r\n"]},"metadata":{},"sourceType":"module"}