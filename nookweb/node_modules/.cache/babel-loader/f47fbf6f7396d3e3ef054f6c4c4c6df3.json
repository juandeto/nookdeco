{"ast":null,"code":"import * as actionTypes from './../actions/actionTypes';\nconst initialState = {\n  respaldo: {\n    forma: 'no seleccionado',\n    medida: {\n      ancho: null,\n      altura: null\n    },\n    genero: 'no seleccionado',\n    color: 'no seleccionado',\n    tacha: 'no seleccionado',\n    tipoTacha: '',\n    modelo: 'no seleccionado',\n    cantidad: 1,\n    precioParticular: 0\n  },\n  displayTachaOptions: false\n};\nconst formas = [{\n  tipo: \"Rectangular\",\n  precio: 900\n}, {\n  tipo: \"Capilla\",\n  precio: 900\n}, {\n  tipo: \"Oval\",\n  precio: 900\n}, {\n  tipo: \"Esquinas Redondas\",\n  precio: 900\n}];\nconst generos = [{\n  tipo: 'Lino Suizo',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}, {\n  tipo: 'Lino Paris',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}, {\n  tipo: 'Lino Costa',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}, {\n  tipo: 'Pana Dresden',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}, {\n  tipo: 'Pana Portugal',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}, {\n  tipo: 'Tussor Rayado',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}, {\n  tipo: 'Tussor Liso',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}, {\n  tipo: 'Ecocuero',\n  precio: 1000,\n  color: ['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\n}];\nconst medidas = [{\n  altura: 1.00,\n  ancho: 1.20,\n  precio: 9000\n}, {\n  altura: 1.00,\n  ancho: 1.40,\n  precio: 9500\n}, {\n  altura: 1.00,\n  ancho: 1.60,\n  precio: 9900\n}, {\n  altura: 1.00,\n  ancho: 1.80,\n  precio: 10900\n}, {\n  altura: 1.00,\n  ancho: 2.00,\n  precio: 11900\n}, {\n  altura: 1.00,\n  ancho: 2.20,\n  precio: 12900\n}];\nconst tachas = [{\n  tamanio: 'Sin tachas',\n  precio: 0,\n  tipo: []\n}, {\n  tamanio: 'Tachas Medianas',\n  precio: 500,\n  tipo: ['Óxido', 'Peltre', 'Plateada']\n}, {\n  tamanio: 'Tachas Grandes',\n  precio: 800,\n  tipo: ['Óxido', 'Peltre', 'Plateada']\n}];\nconst modelos = [{\n  tipo: 'Liso',\n  precio: 0\n}, {\n  tipo: 'Tacha Grande',\n  precio: 0\n}, {\n  tipo: 'Tacha Junta',\n  precio: 1000\n}, {\n  tipo: 'Doble Tacha',\n  precio: 900\n}, {\n  tipo: 'Botone',\n  precio: 1200\n}, {\n  tipo: \"Capitone\",\n  precio: 5000\n}, {\n  tipo: 'Canelon',\n  precio: 8000\n}, {\n  tipo: 'Con Funda Lisa',\n  precio: 3250\n}];\n\nconst reducer = (state = initialState, action) => {\n  let newPrecio = null;\n\n  const setPrice = (key, arrayOption, precio) => {\n    if (key !== 'no seleccionado') {\n      let index = arrayOption.findIndex(item => item.tipo === key || item.tamanio === key);\n      newPrecio = state.respaldo.precioParticular - arrayOption[index].precio;\n      return newPrecio = newPrecio + precio;\n    } else {\n      return newPrecio = state.respaldo.precioParticular + precio;\n    }\n  };\n\n  switch (action.type) {\n    case actionTypes.SET_FORMA:\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          forma: action.tipo,\n          precioParticular: setPrice(state.respaldo.forma, formas, action.precio)\n        }\n      };\n\n    case actionTypes.SET_MEDIDAS:\n      let newPrecioMedida = null;\n\n      if (state.respaldo.medida.ancho !== null && state.respaldo.medida.altura !== null) {\n        console.log(state.respaldo.medida.ancho);\n        let index = medidas.findIndex(item => {\n          return item.ancho === state.respaldo.medida.ancho && item.altura === state.respaldo.medida.altura;\n        });\n        console.log(index);\n        newPrecioMedida = state.respaldo.precioParticular - medidas[index].precio;\n        newPrecioMedida = newPrecioMedida + action.precio;\n      } else {\n        newPrecioMedida = state.respaldo.precioParticular + action.precio;\n      }\n\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          medida: {\n            ancho: action.ancho,\n            altura: action.altura\n          },\n          precioParticular: newPrecioMedida\n        }\n      };\n\n    case actionTypes.SET_GENERO:\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          genero: action.tipo,\n          precioParticular: setPrice(state.respaldo.genero, generos, action.precio)\n        }\n      };\n\n    case actionTypes.SET_COLOR:\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          color: action.color\n        }\n      };\n\n    case actionTypes.SET_TACHA:\n      console.log(action.precio);\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          tacha: action.tamanio,\n          tipoTacha: '',\n          precioParticular: setPrice(state.respaldo.tacha, tachas, action.precio)\n        }\n      };\n\n    case actionTypes.SET_TIPO_TACHA:\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          tipoTacha: action.tipo\n        }\n      };\n\n    case actionTypes.SET_MODELO:\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          modelo: action.tipo,\n          precioParticular: setPrice(state.respaldo.modelo, modelos, action.precio)\n        }\n      };\n\n    case actionTypes.DISPLAY_TACHA_OPTIONS:\n      return { ...state,\n        displayTachaOptions: !state.displayTachaOptions\n      };\n\n    case actionTypes.ON_AMOUNT_CHANGED:\n      console.log(state.precioParticular);\n      return { ...state,\n        respaldo: { ...state.respaldo,\n          cantidad: action.cantidad,\n          precioParticular: state.precioParticular * action.cantidad\n        }\n      };\n\n    case actionTypes.REFRESH_RESPALDO_PROPERTIES:\n      return state = initialState;\n\n    default:\n      return state;\n  }\n};\n\nexport default reducer;","map":{"version":3,"sources":["C:/Users/Juan/Desktop/paginanook/nookweb/src/store/reducers/respaldo.js"],"names":["actionTypes","initialState","respaldo","forma","medida","ancho","altura","genero","color","tacha","tipoTacha","modelo","cantidad","precioParticular","displayTachaOptions","formas","tipo","precio","generos","medidas","tachas","tamanio","modelos","reducer","state","action","newPrecio","setPrice","key","arrayOption","index","findIndex","item","type","SET_FORMA","SET_MEDIDAS","newPrecioMedida","console","log","SET_GENERO","SET_COLOR","SET_TACHA","SET_TIPO_TACHA","SET_MODELO","DISPLAY_TACHA_OPTIONS","ON_AMOUNT_CHANGED","REFRESH_RESPALDO_PROPERTIES"],"mappings":"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","sourcesContent":["import * as actionTypes from './../actions/actionTypes';\r\n\r\nconst initialState={\r\n    respaldo:{\r\n        forma: 'no seleccionado',\r\n        medida:{\r\n            ancho: null,\r\n            altura: null\r\n        },\r\n        genero:'no seleccionado',\r\n        color: 'no seleccionado',\r\n        tacha:'no seleccionado',\r\n        tipoTacha:'',\r\n        modelo:'no seleccionado',\r\n        cantidad: 1,\r\n        precioParticular: 0\r\n    },\r\n    displayTachaOptions: false,\r\n }\r\n\r\n const formas=[\r\n    {\r\n      tipo: \"Rectangular\",\r\n      precio: 900\r\n    },\r\n    {\r\n      tipo: \"Capilla\",\r\n      precio: 900\r\n    },\r\n    {\r\n      tipo: \"Oval\",\r\n      precio: 900\r\n    },\r\n    {\r\n      tipo: \"Esquinas Redondas\",\r\n      precio: 900\r\n    },\r\n  ]\r\n\r\n const generos=[\r\n    {\r\n      tipo: 'Lino Suizo',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n    {\r\n      tipo: 'Lino Paris',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n    {\r\n      tipo: 'Lino Costa',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n    {\r\n      tipo: 'Pana Dresden',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n    {\r\n      tipo: 'Pana Portugal',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n    {\r\n      tipo: 'Tussor Rayado',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n    {\r\n      tipo: 'Tussor Liso',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n    {\r\n      tipo: 'Ecocuero',\r\n      precio: 1000,\r\n      color:['Rosa', 'Rojo Bermellon', 'Azul marino', 'Beige', 'Gris', 'Turquesa']\r\n    },\r\n  ]\r\n\r\n const medidas=[\r\n    {\r\n      altura: 1.00,\r\n      ancho: 1.20,\r\n      precio: 9000\r\n    },\r\n    {\r\n      altura: 1.00,\r\n      ancho: 1.40,\r\n      precio: 9500\r\n    },\r\n    {\r\n      altura: 1.00,\r\n      ancho: 1.60,\r\n      precio: 9900\r\n    },\r\n    {\r\n      altura: 1.00,\r\n      ancho: 1.80,\r\n      precio: 10900\r\n    },\r\n    {\r\n      altura: 1.00,\r\n      ancho: 2.00,\r\n      precio: 11900\r\n    },\r\n    {\r\n      altura: 1.00,\r\n      ancho: 2.20,\r\n      precio: 12900\r\n    },\r\n  ]\r\n\r\n  const tachas=[\r\n    {\r\n      tamanio: 'Sin tachas',\r\n      precio: 0,\r\n      tipo:[]\r\n    },\r\n    {\r\n      tamanio: 'Tachas Medianas',\r\n      precio: 500,\r\n      tipo:['Óxido', 'Peltre', 'Plateada']\r\n    },\r\n    {\r\n      tamanio: 'Tachas Grandes',\r\n      precio: 800,\r\n      tipo:['Óxido', 'Peltre', 'Plateada']\r\n    },\r\n  ]\r\n\r\n const modelos=[\r\n    {\r\n      tipo:'Liso',\r\n      precio: 0\r\n    },\r\n    {\r\n      tipo:'Tacha Grande',\r\n      precio: 0\r\n    },\r\n    {\r\n      tipo:'Tacha Junta',\r\n      precio:1000\r\n    },\r\n    {\r\n      tipo:'Doble Tacha',\r\n      precio: 900\r\n    },\r\n     {\r\n      tipo:'Botone',\r\n      precio: 1200\r\n    },\r\n    {\r\n      tipo:\"Capitone\",\r\n      precio: 5000\r\n    },\r\n    {\r\n      tipo:'Canelon',\r\n      precio: 8000\r\n    },\r\n     {\r\n      tipo:'Con Funda Lisa',\r\n      precio: 3250\r\n    }\r\n  ]\r\n  \r\n        \r\n\r\n const reducer = (state=initialState, action) =>{\r\n    let newPrecio=null;\r\nconst setPrice = (key, arrayOption, precio)=>{\r\n    if(key !== 'no seleccionado'){\r\n            let index =arrayOption.findIndex(item => item.tipo === key || item.tamanio=== key)\r\n            newPrecio=state.respaldo.precioParticular - arrayOption[index].precio;\r\n          return newPrecio=newPrecio + precio;\r\n            \r\n        }else{\r\n            \r\n            return newPrecio=state.respaldo.precioParticular + precio;\r\n        }\r\n}\r\n\r\n    \r\n    switch (action.type) {\r\n      case actionTypes.SET_FORMA:\r\n            return{\r\n                ...state,\r\n                respaldo: {\r\n                    ...state.respaldo,\r\n                    forma: action.tipo,\r\n                    precioParticular: setPrice(state.respaldo.forma, formas, action.precio)\r\n                }\r\n                \r\n            }\r\n        \r\n      case actionTypes.SET_MEDIDAS:\r\n        let newPrecioMedida=null;\r\n\r\n        if(state.respaldo.medida.ancho !== null && state.respaldo.medida.altura !== null){\r\n            console.log(state.respaldo.medida.ancho);\r\n            let index =medidas.findIndex(item => {\r\n                return (item.ancho === state.respaldo.medida.ancho && item.altura === state.respaldo.medida.altura)})\r\n                console.log(index);\r\n            newPrecioMedida=state.respaldo.precioParticular - medidas[index].precio;\r\n            newPrecioMedida=newPrecioMedida + action.precio;\r\n            \r\n        }else{\r\n            newPrecioMedida=state.respaldo.precioParticular + action.precio;\r\n        }\r\n                return{\r\n                    ...state,\r\n                    respaldo: {\r\n                        ...state.respaldo,\r\n                        medida:{\r\n                            ancho: action.ancho,\r\n                            altura: action.altura\r\n                        },\r\n                        precioParticular: newPrecioMedida\r\n                    }\r\n                }\r\n     case actionTypes.SET_GENERO:\r\n    \r\n                    return{\r\n                        ...state,\r\n                        respaldo:{\r\n                            ...state.respaldo,\r\n                            genero: action.tipo,\r\n                            precioParticular: setPrice(state.respaldo.genero, generos, action.precio)\r\n                        }\r\n                    }\r\n      case actionTypes.SET_COLOR:\r\n          return{\r\n              ...state,\r\n              respaldo:{\r\n                  ...state.respaldo,\r\n                  color: action.color\r\n              }\r\n          }\r\n      case actionTypes.SET_TACHA:\r\n          console.log(action.precio)\r\n                        return{\r\n                            ...state,\r\n                            respaldo: {\r\n                                ...state.respaldo,\r\n                                tacha: action.tamanio,\r\n                                tipoTacha: '',\r\n                                precioParticular: setPrice(state.respaldo.tacha, tachas, action.precio)\r\n                            }\r\n                        }\r\n    \r\n      case actionTypes.SET_TIPO_TACHA:\r\n          \r\n                    return {\r\n                             ...state,\r\n                                respaldo: {\r\n                                    ...state.respaldo,\r\n                                    tipoTacha: action.tipo\r\n                                }\r\n                            }\r\n     case actionTypes.SET_MODELO:\r\n                            return{\r\n                                ...state,\r\n                                respaldo: {\r\n                                    ...state.respaldo,\r\n                                    modelo: action.tipo,\r\n                                    precioParticular: setPrice(state.respaldo.modelo, modelos, action.precio)\r\n                                }\r\n                            }\r\n     case actionTypes.DISPLAY_TACHA_OPTIONS:\r\n         return{\r\n             ...state,\r\n            displayTachaOptions: !state.displayTachaOptions\r\n         }\r\n    case actionTypes.ON_AMOUNT_CHANGED:\r\n      console.log(state.precioParticular)\r\n        return{\r\n            ...state,\r\n            respaldo:{\r\n                ...state.respaldo,\r\n                cantidad: action.cantidad,\r\n                precioParticular: state.precioParticular * action.cantidad\r\n            }\r\n        }\r\n     case actionTypes.REFRESH_RESPALDO_PROPERTIES:\r\n         return state=initialState\r\n    \r\n        default:\r\n            return state;\r\n    }\r\n }\r\n\r\n export default reducer;"]},"metadata":{},"sourceType":"module"}